<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ted1orelee</title>
  
  <subtitle>漫游 | 之歌 ~</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://tediorelee.cn/"/>
  <updated>2019-01-28T03:53:54.679Z</updated>
  <id>https://tediorelee.cn/</id>
  
  <author>
    <name>ted1orelee &lt; w</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Build a personal Download Center</title>
    <link href="https://tediorelee.cn/2019/01/28/setup-pyone/"/>
    <id>https://tediorelee.cn/2019/01/28/setup-pyone/</id>
    <published>2019-01-28T02:41:10.000Z</published>
    <updated>2019-01-28T03:53:54.679Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>onedrive现在可以用教育邮箱免费嫖永久1TB<br>除开其他不说，onedrive的同步/下载功能还是挺不错的<br>pyone是一个大佬开发的基于Python-Flask的onedrive文件本地化浏览系统@Abbey<br>结合云服务器和自定义域名就可以做一个自己的下载站了！<br><a id="more"></a></p></blockquote><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><strong><a href="https://wiki.pyone.me/" target="_blank" rel="noopener">https://wiki.pyone.me/</a></strong><br><strong><a href="https://media.weibo.cn/article?jumpfrom=weibocom&amp;id=2309404332460509925014&amp;display=0&amp;retcode=6102" target="_blank" rel="noopener">https://media.weibo.cn/article?jumpfrom=weibocom&amp;id=2309404332460509925014&amp;display=0&amp;retcode=6102</a></strong></p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li>云服务器（centos）x1</li><li>域名（download.xxxx.cn）x1</li><li>onedrive账号 x1</li></ul><h2 id="申请一个onedrive"><a href="#申请一个onedrive" class="headerlink" title="申请一个onedrive"></a>申请一个onedrive</h2><p>根据微博大佬<a href="https://media.weibo.cn/article?jumpfrom=weibocom&amp;id=2309404332460509925014&amp;display=0&amp;retcode=6102" target="_blank" rel="noopener">@倒吸一口凉屁</a>的教程<br>随机生成一个fake邮箱，步骤简单易懂<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_10-56-37.png" alt=""></p><h2 id="服务器安装宝塔面板"><a href="#服务器安装宝塔面板" class="headerlink" title="服务器安装宝塔面板"></a>服务器安装宝塔面板</h2><p>在宝塔<a href="https://www.bt.cn/bbs/thread-19376-1-1.html" target="_blank" rel="noopener">主页</a><br>用SSH连接云主机<br>输入<code>yum install -y wget &amp;&amp; wget -O install.sh</code><br>自动安装宝塔面板<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-07-24.png" alt=""></p><p>安装完成后，浏览器打开<code>http://ip:8888</code>登录后台，用户密码前面会自动生成，请记得及时修改<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-10-50.png" alt=""></p><h2 id="安装Pyone"><a href="#安装Pyone" class="headerlink" title="安装Pyone"></a>安装Pyone</h2><p>所有步骤参考<a href="https://wiki.pyone.me/pyone-an-zhuang/xia-zai-yuan-ma-yi-jian-an-zhuang/" target="_blank" rel="noopener">PyoneWiKi</a><br>完成之后，打开<code>http://ip:34567</code>即可进入后台<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-16-53.png" alt=""></p><p>PS:这里我使用一键安装脚本出现了问题，有一个依赖包没有安装<br>导致我排错了很久，建议手动输入<code>pip install -r requirements.txt</code>一次</p><h2 id="绑定网盘"><a href="#绑定网盘" class="headerlink" title="绑定网盘"></a>绑定网盘</h2><p>获取应用机密（client_secret)和应用ID（client_id)<br>详情参考<a href="https://wiki.pyone.me/pyone-an-zhuang/bang-ding-wang-pan.html" target="_blank" rel="noopener">PyoneWiKi</a><br><img src="https://wiki.pyone.me/.gitbook/assets/pyone-bang-ding-liu-cheng.gif" alt=""></p><h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>在宝塔面板里新建你的网站目录，设置里添加反向代理，并修改nginx配置文件<br>详情参考<a href="https://wiki.pyone.me/pyone-an-zhuang/bang-ding-yu-ming.html" target="_blank" rel="noopener">PyoneWiKi</a><br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-29-55.png" alt=""><br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-30-04.png" alt=""></p><h2 id="添加SSL证书"><a href="#添加SSL证书" class="headerlink" title="添加SSL证书"></a>添加SSL证书</h2><p>1.在腾讯云上申请一个你的下载站域名证书，或者去<a href="https://freessl.cn/" target="_blank" rel="noopener">FreeSSL</a>申请一个免费证书<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-33-06.png" alt=""></p><p>2.进入宝塔面板后台，打开你的网站，找到SSL-其他证书<br>输入你的证书和密钥，保存即可，记得勾选<strong>强制HTTPS</strong><br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-33-22.png" alt=""></p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>绑定多网盘和其他错误信息请参考<a href="https://wiki.pyone.me" target="_blank" rel="noopener">PyoneWiKi</a><br>如果所有步骤均无误，浏览器输入<code>https://yourdomian</code>即可访问<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-44-37.png" alt=""></p><h2 id="下载-amp-在线播放测试"><a href="#下载-amp-在线播放测试" class="headerlink" title="下载&amp;在线播放测试"></a>下载&amp;在线播放测试</h2><p>使用idm随意下载一个文件，可见在100M网络下，速度已经很不错了<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-50-00.png" alt=""></p><p>随便传了一集美剧，在线播放加载也挺快<br><img src="https://blog2019.pek3b.qingstor.com/pyone/Snipaste_2019-01-28_11-53-09.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;onedrive现在可以用教育邮箱免费嫖永久1TB&lt;br&gt;除开其他不说，onedrive的同步/下载功能还是挺不错的&lt;br&gt;pyone是一个大佬开发的基于Python-Flask的onedrive文件本地化浏览系统@Abbey&lt;br&gt;结合云服务器和自定义域名就可以做一个自己的下载站了！&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="onedrive" scheme="https://tediorelee.cn/tags/onedrive/"/>
    
      <category term="下载" scheme="https://tediorelee.cn/tags/%E4%B8%8B%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>Use Powershell Force Delete AzureAD Users</title>
    <link href="https://tediorelee.cn/2019/01/25/powershell-forcedel-aadusers/"/>
    <id>https://tediorelee.cn/2019/01/25/powershell-forcedel-aadusers/</id>
    <published>2019-01-25T09:04:06.000Z</published>
    <updated>2019-01-25T09:36:25.903Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>最近一直鼓捣ADFS服务器，各种虚拟机装了又删<br>国际版国内版订阅也是换着花样的各种Dirsync<br>导致我的国际版订阅上同步了一堆乱七八糟的用户<br>这次要有其他用处了发现删除目录时提示自定义域名在使用中<br>找了下文档，用powershell删除用户发现特别简单<br><a id="more"></a></p></blockquote><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><strong><a href="https://docs.microsoft.com/en-us/office365/enterprise/turn-off-directory-synchronization" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/office365/enterprise/turn-off-directory-synchronization</a></strong><br><strong><a href="https://docs.microsoft.com/zh-cn/office365/enterprise/powershell/connect-to-office-365-powershell" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/office365/enterprise/powershell/connect-to-office-365-powershell</a></strong><br><strong><a href="https://blogs.technet.microsoft.com/jeffgilb/2017/03/09/deleting-azure-active-directory/" target="_blank" rel="noopener">https://blogs.technet.microsoft.com/jeffgilb/2017/03/09/deleting-azure-active-directory/</a></strong></p><h2 id="安装MSOnline模块"><a href="#安装MSOnline模块" class="headerlink" title="安装MSOnline模块"></a>安装MSOnline模块</h2><p>打开powershell，输入<code>Install-Module MSOnline</code><br>弹出来的提示框中输入两次<code>Y</code><br>等待两分钟安装完成即可<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-15-11.png" alt=""></p><h2 id="连接到Azure云"><a href="#连接到Azure云" class="headerlink" title="连接到Azure云"></a>连接到Azure云</h2><p>powershell中输入<code>Connect-MsolService</code><br>注意：这里因为是国际版环境，所以后面不用接参数，假如是国内版或者其他版本需要后面接上参数，如下图<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-02-51.png" alt=""></p><p>在弹出来的对话框中输入你的管理员账号和密码即可<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-06-29.png" alt=""></p><h2 id="停止DirSync同步"><a href="#停止DirSync同步" class="headerlink" title="停止DirSync同步"></a>停止DirSync同步</h2><p>powershell中输入<code>Set-MsolDirSyncEnabled -EnableDirSync $false</code><br>弹出来的提示框中输入<code>Y</code><br>登录portal可看到AAD connect中同步已经显示停止<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-34-14.png" alt=""></p><h2 id="删除AAD用户"><a href="#删除AAD用户" class="headerlink" title="删除AAD用户"></a>删除AAD用户</h2><p>powershell中输入<code>Get-MsolUser | Export-CSV C:\users.csv</code><br>将AAD用户导出到本地为csv文档<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-21-47.png" alt=""></p><p><code>Import-CSV C:\users.csv | Remove-MsOlUser –Force</code><br>使用force参数强制删除用户即可</p><p>登录portal可看到除了管理员用户之外的所有AAD用户均被删除<br><img src="https://blog2019.pek3b.qingstor.com/powershelldelaaduser/Snipaste_2019-01-25_17-22-30.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;最近一直鼓捣ADFS服务器，各种虚拟机装了又删&lt;br&gt;国际版国内版订阅也是换着花样的各种Dirsync&lt;br&gt;导致我的国际版订阅上同步了一堆乱七八糟的用户&lt;br&gt;这次要有其他用处了发现删除目录时提示自定义域名在使用中&lt;br&gt;找了下文档，用powershell删除用户发现特别简单&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="Microsoft" scheme="https://tediorelee.cn/tags/Microsoft/"/>
    
      <category term="powershell" scheme="https://tediorelee.cn/tags/powershell/"/>
    
      <category term="AAD" scheme="https://tediorelee.cn/tags/AAD/"/>
    
  </entry>
  
  <entry>
    <title>AD FS文档文档整理</title>
    <link href="https://tediorelee.cn/2019/01/23/AD-FS%E6%96%87%E6%A1%A3%E6%96%87%E6%A1%A3%E6%95%B4%E7%90%86/"/>
    <id>https://tediorelee.cn/2019/01/23/AD-FS文档文档整理/</id>
    <published>2019-01-23T08:36:56.000Z</published>
    <updated>2019-01-23T09:01:05.880Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>去年年底在实验环境下做的结合国内和国际版Azure并不算成功<br>总是卡在某一个会出问题<br>这次经过长久的实验和总结<br>终于成功的实现了和两个版本的azure的单点登录<br><a id="more"></a></p></blockquote><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p><strong>4台虚拟机，均为windows server 2019 datacenter版本</strong><br><strong>一个公网认证的通配符证书（*.tediorelee.cn.pfx</strong><br><strong>一个个人域名（tediorelee.cn</strong></p><h2 id="服务器结构"><a href="#服务器结构" class="headerlink" title="服务器结构"></a>服务器结构</h2><p><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-43-13.png" alt=""></p><h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><p>1.首先两台作为DC的服务器修改名字，安装ad域功能，两台服务器组成AD forest（tediorelee.cn）<br>2.在AD域用户和计算机里，新建一个部门，新建一个用户，两台服务器同步即可<br>3.在两台DC上安装AAD connect工具，分别与国内版和国际版azure同步，安装选项详见以前文档<br>4.登录chinacloud和global的azure，看到aad用户里同步成功即可<br>5.在adfs服务器上，加入域（ps：adfs服务器不要安装在DC上）修改计算机名<br>6.adfs上添加ad联合身份认证服务功能，导入我们的域名通配符证书，详情配置参照旧文档<br>7.在DC-Global上，运行aad connect，选择“更改用户登录”，用户登录方式选择“使用AD FS进行联合身份认证”，后面跟着配置即可<br>8.在aad connect工具中，选择“管理联合身份认证服务”-“更新AD FS ssl证书“，导入你的通配符证书并更新<br>9.在aad connect工具中，选择“管理联合身份认证服务”-“联合AzureAD 域”，配置你的adfs和aad域<br>10.在adfs服务器上，打开ADFS 管理，检查是否添加成功信赖方信任，如图：<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Untitled%20picture.png" alt=""><br>11.在DC-Chinacloud上，步骤同上，联合国内版aad域，但是这时会报个错，无法使用aad connect工具自动添加国内版的信赖方信任，故在ADFS管理中手动添加（具体配置参照tab《ADFS安装相关》）</p><h2 id="截图展示"><a href="#截图展示" class="headerlink" title="截图展示"></a>截图展示</h2><p>登录<a href="https://portal.azure.com" target="_blank" rel="noopener">国际版azure</a><br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-48-12.png" alt=""><br>在登录框中输入你的域账号<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-48-35.png" alt=""><br>跳转到AD FS 服务器认证<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-48-44.png" alt=""><br>输入你的域账号账号和密码<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-48-53.png" alt=""><br>成功登录国际版Azure<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-49-09.png" alt=""></p><p>登录<a href="https://portal.azure.cn" target="_blank" rel="noopener">国内版azure</a><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-50-03.png" alt=""><br>同样输入你的域账号和密码<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-50-20.png" alt=""><br>跳转到AD FS服务器认证<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-50-33.png" alt=""><br>由于之前已经通过了单点登录的认证，这里直接进入。<br>成功登录国内版Azure<br><img src="https://blog2019.pek3b.qingstor.com/1-23/Snipaste_2019-01-23_16-51-02.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;去年年底在实验环境下做的结合国内和国际版Azure并不算成功&lt;br&gt;总是卡在某一个会出问题&lt;br&gt;这次经过长久的实验和总结&lt;br&gt;终于成功的实现了和两个版本的azure的单点登录&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="adfs" scheme="https://tediorelee.cn/tags/adfs/"/>
    
      <category term="IT Support" scheme="https://tediorelee.cn/tags/IT-Support/"/>
    
  </entry>
  
  <entry>
    <title>接下来如何</title>
    <link href="https://tediorelee.cn/2019/01/15/%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%A6%82%E4%BD%95/"/>
    <id>https://tediorelee.cn/2019/01/15/接下来如何/</id>
    <published>2019-01-15T08:45:55.000Z</published>
    <updated>2019-01-15T08:59:33.802Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>2019年1月15日<br>你已经听了《接下来如何》144遍了</p></blockquote><a id="more"></a><p><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20190115164914.jpg" alt=""></p><p>🎵🎵🎵🎵🎵🎵🎵🎵🎵</p><p>未来没人能够预测<br>被谁喜欢 又喜欢谁呢</p><p>而下一步决定的那一瞬<br>转成怎样的天色</p><p>以为从此就不会爱了<br>黑色 我关上了灯</p><p>当自己是无情绪的毛衣<br>谁冷 就给谁了</p><p>非得等到自己也开始感觉累了<br>累了 却忘了出口是哪扇门<br>谁能教我该如何变残忍<br>残忍 却是开始那刻说得还不够狠<br>爱我的人我总是舍不得<br>舍不得看他痛着 怎么说出否认<br>我爱的人我变得要不得<br>要不得我爱的人</p><p>刻意地制造一些些安稳<br>却成弄坏的雕刻</p><p>怎知道木偶有天变成人<br>学会怎么爱了</p><p>想回到原本的单纯<br>白色 是自己弄脏的</p><p>下一场大雨掉一身灰尘<br>重新 变透明了</p><p>非得等到自己开始讨厌自己了<br>才懂得怎么诚实面对自己想要的<br>是不该就这样被原谅了<br>说真的<br>谁都曾为自己做出自私的选择<br>爱我的人我还是舍不得<br>舍不得看他痛着<br>即使被爱得疲倦了<br>我爱的人却变得爱不得<br>爱不得 要怎么说出我爱上你了</p><p>爱不得</p><p>要不得</p><p>爱不得</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;2019年1月15日&lt;br&gt;你已经听了《接下来如何》144遍了&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="life" scheme="https://tediorelee.cn/categories/life/"/>
    
    
      <category term="life" scheme="https://tediorelee.cn/tags/life/"/>
    
      <category term="music" scheme="https://tediorelee.cn/tags/music/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑-整合国内版和国际版Azure</title>
    <link href="https://tediorelee.cn/2019/01/14/adfs-azure/"/>
    <id>https://tediorelee.cn/2019/01/14/adfs-azure/</id>
    <published>2019-01-14T10:40:50.000Z</published>
    <updated>2019-01-28T04:05:40.351Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>上一篇文章中我们做到了使用AAD Connect把本地用户和Azure连接起来<br>但是众所周知国内版和国际版的Azure是单独隔离的<br>所以这次我们将使用另一个单独的服务器，加入到同一个域，组成林<br>一个林下的两个AD服务器会相互同步，然后两个服务器单独与国内版和国际版的Azure同步，以做到整合国内版和国际版的目的<br><a id="more"></a></p></blockquote><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>新建一个用来作为同步国际版AD的服务器，我们取名叫AD2<br>将AD2的dns指向域控的ip，把AD2加入域（tediorelee.cn）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-29-26.png" alt="alt"></p><p>AD2上安装Active Directory角色和功能<br>配置步骤这里省略</p><p>登录国际版Azure<br>使用自己的账号并创建一个新的AAD目录<br>这里我起名为azure_test<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-33-10.png" alt="alt"></p><p>新建一个用户<a href="mailto:mysql@lovezq4ever.onmicrosoft.com" target="_blank" rel="noopener">mysql@lovezq4ever.onmicrosoft.com</a>(注意域名规范)<br>并授予该用户全局管理员权限</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-33-34.png" alt="alt"></p><p>然后下载AAD Connect工具，安装完成后准备开始配置<br>同理选择自定义配置，其余默认下一步<br>在连接到Azure AD这里输入刚才创建的全局管理员账号以及密码（这里是<u><a href="mailto:mysql@lovezq4ever.onmicrosoft.com" target="_blank" rel="noopener">mysql@lovezq4ever.onmicrosoft.com</a></u>）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-36-54.png" alt="alt"></p><p>连接目录这里点击添加目录，输入你的DC账户及密码<br>选中下拉菜单中的现有林</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-40-37.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-40-44.png" alt="alt"></p><p>在域和OU筛选这里点击下拉箭头，只勾选你想要同步的目录即可（注意这里要与国内版的保持一致否则会出问题）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-42-50.png" alt="alt"></p><p>其余默认设置即可，等待配置完成</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-44-42.png" alt="alt"></p><p>可以看到已经配置完成</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-46-21.png" alt="alt"></p><h2 id="验证是否整合成功"><a href="#验证是否整合成功" class="headerlink" title="验证是否整合成功"></a>验证是否整合成功</h2><p>登录<a href="portal.azure.com">国际版azure</a><br>在用户中我们可以看到已经同步过来的ADFS服务器中的用户mangolee</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-48-43.png" alt="alt"></p><p><strong>验证用本地AD用户mangolee登录Azure是否会跳转到ADFS服务器：</strong></p><p>登录<a href="portal.azure.com">Azure</a><br>输入用户名<u><a href="mailto:mangolee@tediorelee.cn">mangolee@tediorelee.cn</a></u>和密码<br>可以看到这里显示跳转到组织登录页（即ADFS服务器）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-53-34.png" alt="alt"></p><p>输入域中的用户名和账户即可登录</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-53-40.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs4/Snipaste_2018-11-23_15-54-09.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;上一篇文章中我们做到了使用AAD Connect把本地用户和Azure连接起来&lt;br&gt;但是众所周知国内版和国际版的Azure是单独隔离的&lt;br&gt;所以这次我们将使用另一个单独的服务器，加入到同一个域，组成林&lt;br&gt;一个林下的两个AD服务器会相互同步，然后两个服务器单独与国内版和国际版的Azure同步，以做到整合国内版和国际版的目的&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑-Connect ADFS to Azure Active Directory</title>
    <link href="https://tediorelee.cn/2019/01/14/adfs-aad/"/>
    <id>https://tediorelee.cn/2019/01/14/adfs-aad/</id>
    <published>2019-01-14T10:30:50.000Z</published>
    <updated>2019-01-28T04:05:35.555Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>国内版的azure目前可以一元试用，适合个人测试用途，我这里自行注册了一个账号，将用这个账号测试我们整合aad和adfs的正确性<br><a id="more"></a></p></blockquote><h2 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h2><p><a href="http://blog.51cto.com/gaowenlong/1920117" target="_blank" rel="noopener">http://blog.51cto.com/gaowenlong/1920117</a><br><a href="http://blog.51cto.com/gshao/1788027" target="_blank" rel="noopener">http://blog.51cto.com/gshao/1788027</a><br><a href="https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on" target="_blank" rel="noopener">https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on</a></p><p>打开网址<a href="https://portal.azure.cn" target="_blank" rel="noopener">azure</a>登录你的账号</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-40-55.png" alt="alt"></p><p>dashboard中找到AAD</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-42-22.png" alt="alt"></p><p>找到AAD Connect，下载官方的同步工具</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-42-42.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-43-53.png" alt="alt"></p><p>安装软件，一路下一步，选择自定义配置(因为我自己已经配好了，借用网上博客的图<a href="http://blog.51cto.com/gshao/1788055" target="_blank" rel="noopener">原文链接</a>)</p><p><img src="http://s3.51cto.com/wyfs02/M02/82/96/wKioL1dcPPHjjf4IAAEgEyTn6q4323.png" alt="alt"></p><p>输入你的azure账号密码（图上请自行替换）</p><p><img src="http://s3.51cto.com/wyfs02/M02/82/96/wKioL1dcPPKTDf0uAAC1Gi9E3lU342.png" alt="alt"></p><p>连接目录这里同理</p><p><img src="http://s3.51cto.com/wyfs02/M00/82/97/wKioL1dcPPOyCBk_AADWE0-D1F8119.png" alt="alt"></p><p>用户主题名称勾选userPrincipalName</p><p><img src="http://s3.51cto.com/wyfs02/M00/82/97/wKioL1dcPPShQV5TAAFtgEShIAw250.png" alt="alt"></p><p>选择要同步的OU<br>这里我只用选择Users（视情况而定）<br><img src="http://s3.51cto.com/wyfs02/M01/82/97/wKioL1dcPPWQ5WVyAAEBUCOJEzY288.png" alt="alt"></p><p>一路下一步<br>ADFS场选择现有的</p><p><img src="http://s3.51cto.com/wyfs02/M00/82/97/wKioL1dcPPixoh1sAADk-Sh4HLY443.png" alt="alt"></p><p>输入域管理员凭据</p><p><img src="http://s3.51cto.com/wyfs02/M01/82/98/wKiom1dcO-uCQvGdAADgFsFqoJA231.png" alt="alt"></p><p>一路下一步，等待配置完成即可<br>登录azure，在AAD用户里即可看到同步上来的用户了<br>PS：这里我自己AD用户里面新建了一个test组并新建了一个user名为mangolee，具体视情况而定</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-55-10.png" alt="alt"></p><p>测试登录，登录azure，用我们测试用的mangolee账号登录</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-57-39.png" alt="alt"></p><p>可以看到这里自动跳转到adfs认证</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-57-46.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-57-57.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-58-10.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;国内版的azure目前可以一元试用，适合个人测试用途，我这里自行注册了一个账号，将用这个账号测试我们整合aad和adfs的正确性&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑-配置ADFS_2</title>
    <link href="https://tediorelee.cn/2019/01/14/ADFS%E5%A1%AB%E5%9D%91-%E9%85%8D%E7%BD%AEADFS-2/"/>
    <id>https://tediorelee.cn/2019/01/14/ADFS填坑-配置ADFS-2/</id>
    <published>2019-01-14T10:25:50.000Z</published>
    <updated>2019-01-14T10:51:56.359Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>紧接上一步<br>我们已经成功的导入了证书<br>点击配置adfs服务<br>注意我们是创建第一个联合服务器<br><a id="more"></a></p></blockquote><blockquote><p>参考资料：<br><a href="http://blog.51cto.com/gaowenlong/1920117" target="_blank" rel="noopener">http://blog.51cto.com/gaowenlong/1920117</a><br><a href="http://blog.51cto.com/gshao/1788027" target="_blank" rel="noopener">http://blog.51cto.com/gshao/1788027</a><br><a href="https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on" target="_blank" rel="noopener">https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on</a></p></blockquote><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_13-31-30.png" alt="alt"></p><p>注意证书这里选择我们刚才申请的第三方证书</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_13-32-50.png" alt="alt"></p><p>这里提示密钥，我们打开powershell<br>键入命令<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Add-KdsRootKey -EffectiveTime ((get-date).addhours(<span class="string">-10</span>))</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_13<span class="string">-34</span><span class="string">-47</span>.png)</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_13<span class="string">-35</span><span class="string">-22</span>.png)</span><br><span class="line"></span><br><span class="line">选择管理员账户并输入密码</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_13<span class="string">-35</span><span class="string">-44</span>.png)</span><br><span class="line"></span><br><span class="line">数据库选择使用windows内部数据库即可</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_13<span class="string">-38</span><span class="string">-46</span>.png)</span><br><span class="line"></span><br><span class="line">先决条件检查完成。等待配置即可</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_13<span class="string">-39</span><span class="string">-17</span>.png)</span><br><span class="line"></span><br><span class="line">打开dns配置</span><br><span class="line">在正向查找区域中右键新建区域</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_23<span class="string">-25</span><span class="string">-52</span>.png)</span><br><span class="line"></span><br><span class="line">选择主要区域</span><br><span class="line">其余默认</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_23<span class="string">-26</span><span class="string">-22</span>.png)</span><br><span class="line"></span><br><span class="line">输入你的FQDN，保存即可</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_23<span class="string">-26</span><span class="string">-42</span>.png)</span><br><span class="line"></span><br><span class="line">在刚才添加的地址上面右键新建A记录</span><br><span class="line">IP地址指向ADFS服务器的IP</span><br><span class="line"></span><br><span class="line">![alt](https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018<span class="string">-11</span><span class="string">-22</span>_23<span class="string">-30</span><span class="string">-42</span>.png)</span><br><span class="line"></span><br><span class="line">测试登录</span><br><span class="line">浏览器输入</span><br></pre></td></tr></table></figure></p><p><a href="https://adfs.tediorelee.cn/adfs/ls/IdpInitiatedSignon.aspx" target="_blank" rel="noopener">https://adfs.tediorelee.cn/adfs/ls/IdpInitiatedSignon.aspx</a><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注意这里因为非windows<span class="built_in"> server </span>2012所以默认IdpInitiatedSignon没有开启</span><br><span class="line">打开powershell输入以下命令</span><br></pre></td></tr></table></figure></p><p>Set-AdfsProperties -EnableIdPInitiatedSignonPage:$true</p><p>Set-AdfsProperties -EnableRelayStateForIdpInitiatedSignOn:$true<br><code>`</code>  </p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-31-15.png" alt="alt"></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs3/Snipaste_2018-11-22_23-36-26.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;紧接上一步&lt;br&gt;我们已经成功的导入了证书&lt;br&gt;点击配置adfs服务&lt;br&gt;注意我们是创建第一个联合服务器&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑-配置ADFS_1</title>
    <link href="https://tediorelee.cn/2019/01/14/ADFS%E5%A1%AB%E5%9D%91-%E9%85%8D%E7%BD%AEADFS-1/"/>
    <id>https://tediorelee.cn/2019/01/14/ADFS填坑-配置ADFS-1/</id>
    <published>2019-01-14T10:25:19.000Z</published>
    <updated>2019-01-15T09:01:08.032Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>我们上几个步骤里已经搭好了DC和CA的环境，接下来就可以安装adfs功能了<br><a id="more"></a></p></blockquote><h2 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h2><p><a href="http://blog.51cto.com/gaowenlong/1920117" target="_blank" rel="noopener">http://blog.51cto.com/gaowenlong/1920117</a><br><a href="http://blog.51cto.com/gshao/1788027" target="_blank" rel="noopener">http://blog.51cto.com/gshao/1788027</a><br><a href="https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on" target="_blank" rel="noopener">https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on</a></p><p>找到添加角色和功能，安装active directory 联合身份认证服务<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-47-22.png" alt="alt"></p><p>下一步默认安装，等待安装完成<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-51-33.png" alt="alt"></p><h1 id="请求公网证书"><a href="#请求公网证书" class="headerlink" title="请求公网证书"></a>请求公网证书</h1><p>安装完成以后，我们打开证书服务，给adfs请求一个公网SSL证书<br>win+r打开certlm.msc<br>点击个人-证书<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-53-50.png" alt="alt"></p><p>空白处右键，所有任务-高级操作-创建自定义请求<br>选中不使用注册策略继续</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-54-21.png" alt="alt"></p><p>模板选择旧密钥</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-54-38.png" alt="alt"></p><p>点开详细信息的小箭头<br>点击属性</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-58-33.png" alt="alt"></p><p>如图所示，写上友好名称和描述</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-59-06.png" alt="alt"></p><p>使用者里，添加国家，公用名和单位信息</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-00-59.png" alt="alt"></p><p>私钥里点击第一个下拉箭头，去掉默认勾选<br>勾上最后一个（如图所示）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-02-11.png" alt="alt"></p><p>密钥选项里修改大小为2048<br>并使其可导出</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-02-30.png" alt="alt"></p><p>保存请求文件</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-05-05.png" alt="alt"></p><h1 id="在第三方证书颁发机构申请一个证书"><a href="#在第三方证书颁发机构申请一个证书" class="headerlink" title="在第三方证书颁发机构申请一个证书"></a>在第三方证书颁发机构申请一个证书</h1><p>这里我用的是<a href="https://freessl.cn/" target="_blank" rel="noopener">freessl</a></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-06-32.png" alt="alt"></p><p>选择我有CSR<br>复制刚才创建的CSR进去<br>点击创建</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-07-10.png" alt="alt"></p><p>DNS验证，把提供的TXT记录值写进你的域名解析里（这里略过）</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-10-47.png" alt="alt"></p><p>验证完成后，下载证书并复制到服务器<br>在个人-证书下右键，所有任务-导入<br>根据向导导入刚才的证书文件</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_12-14-53.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;我们上几个步骤里已经搭好了DC和CA的环境，接下来就可以安装adfs功能了&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑坑-开启证书服务器功能</title>
    <link href="https://tediorelee.cn/2019/01/14/adfs-cert/"/>
    <id>https://tediorelee.cn/2019/01/14/adfs-cert/</id>
    <published>2019-01-14T10:24:46.000Z</published>
    <updated>2019-01-14T10:45:14.322Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>参考资料：<br><a href="http://blog.51cto.com/gaowenlong/1920117" target="_blank" rel="noopener">http://blog.51cto.com/gaowenlong/1920117</a><br><a href="http://blog.51cto.com/gshao/1788027" target="_blank" rel="noopener">http://blog.51cto.com/gshao/1788027</a><br><a href="https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on" target="_blank" rel="noopener">https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on</a><br><a id="more"></a></p></blockquote><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在服务器上开启证书服务<br>点击添加角色和功能<br>找到active directory证书服务<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-36-27.png" alt="alt"></p><p>一路下一步，在选择服务和角色选项这里勾选如图所示<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-37-09.png" alt="alt"></p><p>下一步直到开始安装，勾选如果需要，自动重启<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-37-34.png" alt="alt"></p><p>重启完成以后，点击配置证书服务<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-41-32.png" alt="alt"></p><p>一路默认，这里勾选刚才安装的三个服务<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-42-39.png" alt="alt"></p><p>一路默认，选择证书并稍后为SSL分配<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-43-10.png" alt="alt"></p><p>win+R运行certlm.msc<br>即可看到证书服务已安装完成<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs2/Snipaste_2018-11-22_11-45-20.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;参考资料：&lt;br&gt;&lt;a href=&quot;http://blog.51cto.com/gaowenlong/1920117&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://blog.51cto.com/gaowenlong/1920117&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.51cto.com/gshao/1788027&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://blog.51cto.com/gshao/1788027&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>ADFS填坑-搭建CA服务器</title>
    <link href="https://tediorelee.cn/2019/01/14/adfs-ca/"/>
    <id>https://tediorelee.cn/2019/01/14/adfs-ca/</id>
    <published>2019-01-14T10:23:26.000Z</published>
    <updated>2019-01-14T10:44:39.132Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>参考资料：<br><a href="http://blog.51cto.com/gaowenlong/1920117" target="_blank" rel="noopener">http://blog.51cto.com/gaowenlong/1920117</a><br><a href="http://blog.51cto.com/gshao/1788027" target="_blank" rel="noopener">http://blog.51cto.com/gshao/1788027</a><br><a href="https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on" target="_blank" rel="noopener">https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on</a><br><a id="more"></a></p></blockquote><h1 id="所需环境"><a href="#所需环境" class="headerlink" title="所需环境"></a>所需环境</h1><p>一个ActiveDirectory域管理员账户<br>SSL服务器身份验证的公共可信证书<br><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/1.png" alt="alt"></p><h1 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h1><p><strong>准备一个本地vmware虚拟机作为CA服务器（从新安装），一个azure服务器作为联合认证服务器<br>vmware虚拟机中选择添加角色和功能，安装ActiveDirectory域服务配置</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/2.png" alt="alt"></p><p><strong>设置密码</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/3.png" alt="alt"></p><p><strong>提示没有DNS，直接下一步，会自动创建</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/4.png" alt="alt"></p><p><strong>域名会自动生成，直接下一步</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/5.png" alt="alt"></p><p><strong>路径可以默认也可以自定义</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/6.png" alt="alt"></p><p><strong>后面的条件检查一路默认，等待安装即可（重启）</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/7.png" alt="alt"></p><p><strong>重启完成后，点击添加要管理的其他服务器</strong></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/8.png" alt="alt"></p><p>点击查找，选中搜索到的服务器，双击添加</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/9.png" alt="alt"></p><p>在本地服务器中即可看到域</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/adfs/10.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;参考资料：&lt;br&gt;&lt;a href=&quot;http://blog.51cto.com/gaowenlong/1920117&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://blog.51cto.com/gaowenlong/1920117&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.51cto.com/gshao/1788027&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://blog.51cto.com/gshao/1788027&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://support.microsoft.com/en-us/help/3061192/step-by-step-video-set-up-adfs-for-office-365-for-single-sign-on&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="microsoft" scheme="https://tediorelee.cn/tags/microsoft/"/>
    
      <category term="ADFS" scheme="https://tediorelee.cn/tags/ADFS/"/>
    
      <category term="域" scheme="https://tediorelee.cn/tags/%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>Tale开源博客框架安装</title>
    <link href="https://tediorelee.cn/2019/01/14/tale/"/>
    <id>https://tediorelee.cn/2019/01/14/tale/</id>
    <published>2019-01-14T10:18:54.000Z</published>
    <updated>2019-01-14T10:53:53.543Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>这个人呐总是不安于现状的，所以我之前尝试了hexo博客之后，又发现了一款由国人开发的开源博客名叫tale，于是就迫不及待的开始了安装、尝鲜。</p></blockquote><hr><a id="more"></a><h1 id="tale特性"><a href="#tale特性" class="headerlink" title="tale特性"></a>tale特性</h1><ul><li>设计简洁，界面美观</li><li>Markdown 文章发布</li><li>自定义文章链接</li><li>支持多主题</li><li>支持插件扩展</li><li>支持 Emoji 表情</li><li>支持网易云音乐播放</li><li>支持附件和数据库备份</li><li>部署简单，不依赖 Tomcat</li><li>无需数据库，内嵌 Sqlite</li></ul><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>以我自己的腾讯云为例，ubuntu16.04的操作系统<br>先安装JDK<br><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo </span><span class="string">add-apt-</span><span class="string">repository </span><span class="string">ppa:webupd8team/</span><span class="string">java</span></span><br><span class="line"><span class="string">sudo </span><span class="string">apt </span><span class="string">update</span></span><br><span class="line"><span class="string">sudo </span><span class="string">apt </span><span class="string">install </span>-y <span class="string">oracle-java8-</span><span class="string">installer</span></span><br><span class="line"><span class="string">sudo </span><span class="string">apt </span><span class="string">install </span>-y <span class="string">oracle-java8-</span><span class="built_in">set-default</span></span><br><span class="line"><span class="built_in">java</span> -<span class="string">version</span></span><br></pre></td></tr></table></figure></p><p>后安装nginx</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install nginx -y</span><br></pre></td></tr></table></figure><h1 id="安装-Tale-博客"><a href="#安装-Tale-博客" class="headerlink" title="安装 Tale 博客"></a>安装 Tale 博客</h1><p>修改Nginx配置<br><code>vim /etc/nginx/sites-aviliable/defalut</code></p><p>修改为：</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  <span class="keyword">listen</span> <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">try_files $uri $uri/ =<span class="number">404</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">server&#123;</span><br><span class="line"><span class="keyword">listen</span> <span class="number">443</span>;</span><br><span class="line">    server_name www.tediorelee.cn,<span class="number">132.232</span>.<span class="number">20.202</span>;     <span class="comment"># 填写绑定证书的域名</span></span><br><span class="line">    ssl on;</span><br><span class="line">    ssl_certificate cert/<span class="number">1_</span>www.tediorelee.cn_bundle.crt;</span><br><span class="line">    ssl_certificate_key cert/<span class="number">2_</span>www.tediorelee.cn.key;</span><br><span class="line">    ssl_session_timeout <span class="number">5</span><span class="keyword">m</span>;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;    <span class="comment"># 按照这个协议配置</span></span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;     <span class="comment"># 按照这个套件配置</span></span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0</span>.<span class="number">1</span>:<span class="number">9000</span>;</span><br><span class="line">    proxy_read_timeout <span class="number">300</span>;</span><br><span class="line">    proxy_connect_timeout <span class="number">300</span>;</span><br><span class="line">    proxy_redirect     off;</span><br><span class="line"></span><br><span class="line">    proxy_set_header   X-Forwarded-Proto $scheme;</span><br><span class="line">    proxy_set_header   Host              $http_host;</span><br><span class="line">    proxy_set_header   X-Real-IP         $remote_addr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注：因为我自己的域名已经申请了免费的证书所以我就直接添加到了<code>/etc/nginx/cert</code>目录下并在配置文件中写明了https的配置信息</strong></p><p>启动tale<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- git.io/fxsWx | bash</span><br><span class="line">cd tale</span><br><span class="line">sh<span class="built_in"> tool </span>start</span><br></pre></td></tr></table></figure></p><p>访问ip:9000即可开始安装</p><p>脚本说明：</p><ul><li>start: 启动 tale</li><li>stop: 停止 tale</li><li>restart: 重启 tale</li><li>status: 查看 tale 运行状态</li><li>log: 查看 tale 运行日志</li><li>upgrade: 升级 tale，会自动备份</li></ul><h1 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h1><p><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/TIM%E6%88%AA%E5%9B%BE20181029161421.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;这个人呐总是不安于现状的，所以我之前尝试了hexo博客之后，又发现了一款由国人开发的开源博客名叫tale，于是就迫不及待的开始了安装、尝鲜。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="blog" scheme="https://tediorelee.cn/tags/blog/"/>
    
      <category term="tale" scheme="https://tediorelee.cn/tags/tale/"/>
    
  </entry>
  
  <entry>
    <title>雷神G150T2015款Hackintosh安装</title>
    <link href="https://tediorelee.cn/2018/12/14/g150th/"/>
    <id>https://tediorelee.cn/2018/12/14/g150th/</id>
    <published>2018-12-14T10:15:30.000Z</published>
    <updated>2019-01-14T10:54:57.921Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><p><strong>雷神G150TH2015年款黑苹果安装记录</strong></p><blockquote><p>镜像下载：<a href="https://blog.daliansky.net/macOS-Mojave-10.14.1-18B75-official-version-with-Clover-4726-original-image.html" target="_blank" rel="noopener">黑果小兵</a><br>参考文章：<a href="https://www.sqlsec.com/2018/08/clover.html" target="_blank" rel="noopener">国光</a></p></blockquote><a id="more"></a><h1 id="配置概要"><a href="#配置概要" class="headerlink" title="配置概要"></a>配置概要</h1><p>CPU：i7-4720HQ<br>GPU：intel（R）HD Graphics 4600<br>SSD：team128G Kingston120G Kingston256G</p><h1 id="工具："><a href="#工具：" class="headerlink" title="工具："></a>工具：</h1><ol><li>Transmac</li><li>DiskGenius</li><li>U盘x1</li></ol><h1 id="EFI文件备份"><a href="#EFI文件备份" class="headerlink" title="EFI文件备份"></a>EFI文件备份</h1><p>链接: <a href="https://pan.baidu.com/s/13Vkr7CmHwIEkOPTfC5dAdg" target="_blank" rel="noopener">https://pan.baidu.com/s/13Vkr7CmHwIEkOPTfC5dAdg</a> 提取码: 1qyi </p><h1 id="config-plist"><a href="#config-plist" class="headerlink" title="config.plist"></a>config.plist</h1><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;&lt;plist version=&quot;1.0&quot;&gt;&lt;dict&gt;    &lt;key&gt;ACPI&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;AutoMerge&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;Comment-DisabledAML&lt;/key&gt;        &lt;string&gt;Disable other forms of CPU PM due to SSDT/Generate/PluginType=true&lt;/string&gt;        &lt;key&gt;DSDT&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;DropOEM_DSM&lt;/key&gt;            &lt;false/&gt;            &lt;key&gt;Fixes&lt;/key&gt;            &lt;dict&gt;                &lt;key&gt;Comment-IRQ Fix&lt;/key&gt;                &lt;string&gt;The following fixes may be needed for onboard audio/USB/etc&lt;/string&gt;                &lt;key&gt;FixHPET&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;FixIPIC&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;FixRTC&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;FixTMR&lt;/key&gt;                &lt;false/&gt;            &lt;/dict&gt;            &lt;key&gt;Patches&lt;/key&gt;            &lt;array&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change OSID to XSID (to avoid match against _OSI XOSI patch)&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;true/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    T1NJRA==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    WFNJRA==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change _OSI to XOSI&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;true/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    X09TSQ==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    WE9TSQ==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change _DSM to XDSM&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;true/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    X0RTTQ==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    WERTTQ==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change EC0 to EC&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;true/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    RUMwXw==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    RUNfXw==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change H_EC to EC&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;true/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    SF9FQw==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    RUNfXw==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change EHC1 to EH01&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    RUhDMQ==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    RUgwMQ==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change EHC2 to EH02&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    RUhDMg==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    RUgwMg==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change GFX0 to IGPU&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    R0ZYMA==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    SUdQVQ==                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change PCI0.VID to IGPU #1 (Thinkpad)&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    UENJMFZJRF8=                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    UENJMElHUFU=                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change PCI0.VID to IGPU #2 (Thinkpad)&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    VklEXwhfQURSDAAAAgA=                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    SUdQVQhfQURSDAAAAgA=                    &lt;/data&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Comment&lt;/key&gt;                    &lt;string&gt;change B0D3 to HDAU&lt;/string&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Find&lt;/key&gt;                    &lt;data&gt;                    QjBEMw==                    &lt;/data&gt;                    &lt;key&gt;Replace&lt;/key&gt;                    &lt;data&gt;                    SERBVQ==                    &lt;/data&gt;                &lt;/dict&gt;            &lt;/array&gt;        &lt;/dict&gt;        &lt;key&gt;DisabledAML&lt;/key&gt;        &lt;array&gt;            &lt;string&gt;SSDT.aml&lt;/string&gt;            &lt;string&gt;SSDT-XCPM.aml&lt;/string&gt;            &lt;string&gt;SSDT-PluginType1.aml&lt;/string&gt;        &lt;/array&gt;        &lt;key&gt;DropTables&lt;/key&gt;        &lt;array&gt;            &lt;dict&gt;                &lt;key&gt;Signature&lt;/key&gt;                &lt;string&gt;#MCFG&lt;/string&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Signature&lt;/key&gt;                &lt;string&gt;DMAR&lt;/string&gt;            &lt;/dict&gt;        &lt;/array&gt;        &lt;key&gt;FixHeaders&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;SSDT&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;DropOem&lt;/key&gt;            &lt;false/&gt;            &lt;key&gt;Generate&lt;/key&gt;            &lt;dict&gt;                &lt;key&gt;PluginType&lt;/key&gt;                &lt;true/&gt;            &lt;/dict&gt;            &lt;key&gt;NoOemTableId&lt;/key&gt;            &lt;false/&gt;        &lt;/dict&gt;    &lt;/dict&gt;    &lt;key&gt;Boot&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;#DefaultVolume&lt;/key&gt;        &lt;string&gt;LastBootedVolume&lt;/string&gt;        &lt;key&gt;Arguments&lt;/key&gt;        &lt;string&gt;-v dart=0 nv_disable=1 kext-dev-mode=1 debug=0x100 -alcoff&lt;/string&gt;        &lt;key&gt;NeverHibernate&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;Secure&lt;/key&gt;        &lt;false/&gt;        &lt;key&gt;Timeout&lt;/key&gt;        &lt;integer&gt;5&lt;/integer&gt;    &lt;/dict&gt;    &lt;key&gt;Comment&lt;/key&gt;    &lt;string&gt;This file is for Haswell graphics that require FakeID=0x04128086&lt;/string&gt;    &lt;key&gt;Devices&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;#AddProperties&lt;/key&gt;        &lt;array&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;hda-gfx=onboard-1 for HDMI audio&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;IntelGFX&lt;/string&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;hda-gfx&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                b25ib2FyZC0xAA==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;hda-gfx=onboard-1 for HDMI audio&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;HDA&lt;/string&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;hda-gfx&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                b25ib2FyZC0xAA==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;layout-id=3&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;HDA&lt;/string&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;layout-id&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                AwAAAA==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;HDA&lt;/string&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;PinConfigurations&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                &lt;/data&gt;            &lt;/dict&gt;        &lt;/array&gt;        &lt;key&gt;AddProperties&lt;/key&gt;        &lt;array&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject &quot;name&quot; as (data)&quot;#display&quot; to disable graphics drivers on NVidia&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;NVidia&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;name&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                I2Rpc3BsYXkA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject &quot;IOName&quot; as &quot;#display&quot; to disable graphics drivers on NVidia&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;NVidia&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;IOName&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;string&gt;#display&lt;/string&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject bogus class-code to prevent graphics drivers loading for NVidia&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;NVidia&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;class-code&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                /////w==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject &quot;name&quot; as (data)&quot;#display&quot; to disable graphics drivers on AMD&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;ATI&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;name&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                I2Rpc3BsYXkA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject &quot;IOName&quot; as &quot;#display&quot; to disable graphics drivers on AMD&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;ATI&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;IOName&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;string&gt;#display&lt;/string&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject bogus class-code to prevent graphics drivers loading for AMD&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;ATI&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;class-code&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                /////w==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject bogus vendor-id to prevent graphics drivers loading for AMD&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;ATI&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;vendor-id&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                //8AAA==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Inject bogus device-id to prevent graphics drivers loading for AMD&lt;/string&gt;                &lt;key&gt;Device&lt;/key&gt;                &lt;string&gt;ATI&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Key&lt;/key&gt;                &lt;string&gt;device-id&lt;/string&gt;                &lt;key&gt;Value&lt;/key&gt;                &lt;data&gt;                //8AAA==                &lt;/data&gt;            &lt;/dict&gt;        &lt;/array&gt;        &lt;key&gt;Audio&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;Inject&lt;/key&gt;            &lt;integer&gt;0&lt;/integer&gt;        &lt;/dict&gt;        &lt;key&gt;FakeID&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;IntelGFX&lt;/key&gt;            &lt;string&gt;0x04128086&lt;/string&gt;        &lt;/dict&gt;        &lt;key&gt;USB&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;AddClockID&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;FixOwnership&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;Inject&lt;/key&gt;            &lt;true/&gt;        &lt;/dict&gt;        &lt;key&gt;UseIntelHDMI&lt;/key&gt;        &lt;false/&gt;    &lt;/dict&gt;    &lt;key&gt;DisableDrivers&lt;/key&gt;    &lt;array&gt;        &lt;string&gt;VBoxHfs&lt;/string&gt;    &lt;/array&gt;    &lt;key&gt;GUI&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;#ScreenResolution&lt;/key&gt;        &lt;string&gt;1920x1080&lt;/string&gt;        &lt;key&gt;Custom&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;Entries&lt;/key&gt;            &lt;array&gt;                &lt;dict&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Hidden&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Ignore&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;NoCaches&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Type&lt;/key&gt;                    &lt;string&gt;OSXRecovery&lt;/string&gt;                &lt;/dict&gt;                &lt;dict&gt;                    &lt;key&gt;Disabled&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Ignore&lt;/key&gt;                    &lt;false/&gt;                    &lt;key&gt;Title&lt;/key&gt;                    &lt;string&gt;Windows&lt;/string&gt;                    &lt;key&gt;Type&lt;/key&gt;                    &lt;string&gt;Windows&lt;/string&gt;                &lt;/dict&gt;            &lt;/array&gt;        &lt;/dict&gt;        &lt;key&gt;Hide&lt;/key&gt;        &lt;array&gt;            &lt;string&gt;Preboot&lt;/string&gt;        &lt;/array&gt;        &lt;key&gt;Mouse&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;Enabled&lt;/key&gt;            &lt;false/&gt;        &lt;/dict&gt;        &lt;key&gt;Scan&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;Entries&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;Legacy&lt;/key&gt;            &lt;false/&gt;            &lt;key&gt;Linux&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;Tool&lt;/key&gt;            &lt;true/&gt;        &lt;/dict&gt;        &lt;key&gt;Theme&lt;/key&gt;        &lt;string&gt;BGM&lt;/string&gt;    &lt;/dict&gt;    &lt;key&gt;Graphics&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;EDID&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;Inject&lt;/key&gt;            &lt;false/&gt;        &lt;/dict&gt;        &lt;key&gt;Inject&lt;/key&gt;        &lt;dict&gt;            &lt;key&gt;ATI&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;Intel&lt;/key&gt;            &lt;true/&gt;            &lt;key&gt;NVidia&lt;/key&gt;            &lt;true/&gt;        &lt;/dict&gt;        &lt;key&gt;ig-platform-id&lt;/key&gt;        &lt;string&gt;0x0d260007&lt;/string&gt;    &lt;/dict&gt;    &lt;key&gt;KernelAndKextPatches&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;AppleRTC&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;DellSMBIOSPatch&lt;/key&gt;        &lt;false/&gt;        &lt;key&gt;ForceKextsToLoad&lt;/key&gt;        &lt;array&gt;            &lt;string&gt;\System\Library\Extensions\IONetworkingFamily.kext&lt;/string&gt;        &lt;/array&gt;        &lt;key&gt;KernelLapic&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;KernelPm&lt;/key&gt;        &lt;true/&gt;        &lt;key&gt;KernelToPatch&lt;/key&gt;        &lt;array&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;MSR 0xE2 _xcpm_idle instant reboot(c) Pike R. Alpha&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                ILniAAAADzA=                &lt;/data&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                ILniAAAAkJA=                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Disable panic kext logging on 10.13 Debug kernel&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                sABMi1Xw                &lt;/data&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.13&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                SIPEQF3D                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Disable panic kext logging on 10.13 Release kernel&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                igKEwHRE                &lt;/data&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.13&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                igKEwOtE                &lt;/data&gt;            &lt;/dict&gt;        &lt;/array&gt;        &lt;key&gt;KextsToPatch&lt;/key&gt;        &lt;array&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable 9MB cursor bytes, 0x0a260006&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                BgAmCgEDAwMAAAACAAAwAQAAYAA=                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                BgAmCgEDAwMAAAACAAAwAQAAkAA=                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable 96MB DVMT-prealloc, 0x0a2e0008&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                CAAuCgEDAwMAAAAE                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                CAAuCgEDAwMAAAAG                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable 128MB DVMT-prealloc, 0x0a2e0008&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                CAAuCgEDAwMAAAAE                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                CAAuCgEDAwMAAAAI                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable 128MB DVMT-prealloc, 48MB framebuffer, 48MB cursor bytes, 0x0a260006&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                BgAmCgEDAwMAAAACAAAwAQAAYAA=                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                BgAmCgEDAwMAAAAIAAAAAwAAAAM=                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0105, 0x0a260005 0x0a260006, 0x0d220003, 0x0a2e000a, 0x0a26000a&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQUJAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQUJAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204, 0x0d220003, 0x0a2e000a, 0x0a26000a&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQKAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQKAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204, 0x0a260005 0x0a260006&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQJAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQJAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0105, 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQUJAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQUJAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204, 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQJAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQJAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204, alternate/later versions macOS, 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQKAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQKAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204, 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQKAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.12.x&lt;/string&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQKAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable internal display after sleep for 0x0a2e0008 on 10.10.2-10.12.x (c) syscl&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAAAeAAAABQUJAQ==                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.10.x,10.11.x,10.12.x&lt;/string&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAAAPAAAABQUJAQ==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable internal display after sleep for 0x0a2e0008 on 10.13.x (c) syscl&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAAAeAgAABQUJAQ==                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.13.x&lt;/string&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAAAfAgAABQUJAQ==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;Enable internal display after sleep for 0x0a2e000a, 0x0a26000a&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAADWAAAABQUAAA==                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQAAAEAAAAAeAAAABQUAAA==                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0105(12), 0x0a260005 0x0a260006, 0x0d220003, 0x0a2e000a, 0x0a26000a&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQUJAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQUSAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204(12), 0x0d220003, 0x0a2e000a, 0x0a26000a&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQKAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQSAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204(12), 0x0a260005 0x0a260006&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQJAAAEAACHAAAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQSAAAIAACHAAAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0105(12), 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AQUJAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AQUSAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204(12), 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQJAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQSAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;            &lt;dict&gt;                &lt;key&gt;Comment&lt;/key&gt;                &lt;string&gt;HDMI-audio, port 0204(12), 0x0a2e0008, 0x0a16000c, 0x0a2e000d, 0x0a26000d&lt;/string&gt;                &lt;key&gt;Disabled&lt;/key&gt;                &lt;true/&gt;                &lt;key&gt;Find&lt;/key&gt;                &lt;data&gt;                AgQKAAAEAAAHAQAA                &lt;/data&gt;                &lt;key&gt;InfoPlistPatch&lt;/key&gt;                &lt;false/&gt;                &lt;key&gt;MatchOS&lt;/key&gt;                &lt;string&gt;10.12.x&lt;/string&gt;                &lt;key&gt;Name&lt;/key&gt;                &lt;string&gt;com.apple.driver.AppleIntelFramebufferAzul&lt;/string&gt;                &lt;key&gt;Replace&lt;/key&gt;                &lt;data&gt;                AgQSAAAIAAAHAQAA                &lt;/data&gt;            &lt;/dict&gt;        &lt;/array&gt;    &lt;/dict&gt;    &lt;key&gt;RtVariables&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;BooterConfig&lt;/key&gt;        &lt;string&gt;0x28&lt;/string&gt;        &lt;key&gt;CsrActiveConfig&lt;/key&gt;        &lt;string&gt;0x67&lt;/string&gt;    &lt;/dict&gt;    &lt;key&gt;SMBIOS&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;#ProductName-MacBookAir&lt;/key&gt;        &lt;string&gt;MacBookAir6,2&lt;/string&gt;        &lt;key&gt;ProductName&lt;/key&gt;        &lt;string&gt;MacBookPro11,1&lt;/string&gt;        &lt;key&gt;Trust&lt;/key&gt;        &lt;true/&gt;    &lt;/dict&gt;    &lt;key&gt;SystemParameters&lt;/key&gt;    &lt;dict&gt;        &lt;key&gt;InjectKexts&lt;/key&gt;        &lt;string&gt;Detect&lt;/string&gt;    &lt;/dict&gt;&lt;/dict&gt;&lt;/plist&gt;</code></pre><p>PS：驱动HDMI修改ig-platform-id为<code>0x0d260007</code>既可</p><h1 id="目前存在问题"><a href="#目前存在问题" class="headerlink" title="目前存在问题"></a>目前存在问题</h1><ol><li>wifi无法使用，淘宝黑苹果网卡解决</li><li>Airdrop也无法使用（of course）</li><li>偶尔会死机</li><li>电池图标永久显示充电中，待解决</li><li>小太阳暂时没有测试，待解决</li></ol><h1 id="待续……"><a href="#待续……" class="headerlink" title="待续…….."></a>待续……..</h1>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;雷神G150TH2015年款黑苹果安装记录&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;镜像下载：&lt;a href=&quot;https://blog.daliansky.net/macOS-Mojave-10.14.1-18B75-official-version-with-Clover-4726-original-image.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;黑果小兵&lt;/a&gt;&lt;br&gt;参考文章：&lt;a href=&quot;https://www.sqlsec.com/2018/08/clover.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;国光&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="tech" scheme="https://tediorelee.cn/categories/tech/"/>
    
    
      <category term="黑苹果" scheme="https://tediorelee.cn/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/"/>
    
      <category term="雷神" scheme="https://tediorelee.cn/tags/%E9%9B%B7%E7%A5%9E/"/>
    
      <category term="MACOS" scheme="https://tediorelee.cn/tags/MACOS/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客添加https解析</title>
    <link href="https://tediorelee.cn/2018/09/03/hexo-https/"/>
    <id>https://tediorelee.cn/2018/09/03/hexo-https/</id>
    <published>2018-09-03T12:35:21.000Z</published>
    <updated>2018-10-24T09:12:19.232Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong>前段时间成功把hexo部署到了腾讯云服务器上，但是现在大多网站都采用了https协议访问，就空余时间申请了个免费证书上<br>传到服务器并开启了https</strong><br><strong>所需准备：</strong></p><ul><li>腾讯云主机+hexo</li><li>ssl证书（可免费申请）</li><li>winscp</li></ul></blockquote><a id="more"></a><h2 id="申请SSL证书"><a href="#申请SSL证书" class="headerlink" title="申请SSL证书"></a>申请SSL证书</h2><p>腾讯云可以免费申请一年的ssl证书，<a href="https://console.cloud.tencent.com/ssl" target="_blank" rel="noopener">地址如下</a><br><img src="https://tedioreleeblog.pek3b.qingstor.com/1.png" alt="1"><br>审核只花了我几个小时，收到短信后打开腾讯云后台，下载证书压缩包<br>解压以后，用winscp上传到服务器<code>/etc/ngix/cert</code>目录下<br>如果没有cert目录可自行手动创建<code>mkdir cert</code></p><h2 id="Ngix配置"><a href="#Ngix配置" class="headerlink" title="Ngix配置"></a>Ngix配置</h2><p>打开你自己的网站配置文件，以我自己为例<code>/etc/ngix/sites-aviliable/default</code><br>添加如下配置：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen <span class="number">443</span>;  <span class="comment">//开启443https默认端口</span></span><br><span class="line">    server_name tediorelee.cn;   <span class="comment">//指定域名</span></span><br><span class="line">    ssl on;</span><br><span class="line">    root <span class="regexp">/var/</span>www<span class="regexp">/hexo;   /</span>/指定网站路径</span><br><span class="line">    index index.html index.htm;</span><br><span class="line">    ssl_certificate  cert<span class="regexp">/1_xxxx.crt;    /</span>/指定上传的证书文件名</span><br><span class="line">    ssl_certificate_key cert<span class="regexp">/2_xxxx.key;  /</span>/指定上传的证书秘钥名</span><br><span class="line">    ssl_session_timeout <span class="number">5</span>m;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-<span class="string">SHA256:</span><span class="string">ECDHE:</span><span class="string">ECDH:</span><span class="string">AES:</span><span class="string">HIGH:</span>!<span class="string">NULL:</span>!<span class="string">aNULL:</span>!<span class="string">MD5:</span>!<span class="string">ADH:</span>!RC4;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1<span class="number">.1</span> TLSv1<span class="number">.2</span>;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root <span class="regexp">/var/</span>www/hexo;  </span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>保存退出<br>命令行输入<code>ngix -t</code>检查配置文件正确性<br>无错误后，<code>/etc/init.d/ngix restart</code>重启ngix服务<br>访问域名，前缀加上https即可</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/2.png" alt="2"><br><img src="https://tedioreleeblog.pek3b.qingstor.com/3.png" alt="3"><br><strong>注：我自己配置的时候，看了很多教程，发现ssl_certificate语句后面不需要接绝对路径，相对路径即可，使用了绝对路径反而检查会报错。</strong></p><h2 id="Https优化"><a href="#Https优化" class="headerlink" title="Https优化"></a>Https优化</h2><p>添加完证书后，你会发现访问原先的http也会进到博客，我们可以继续配置ngix参数使其自动跳转到https<br>打开<code>/etc/ngix/sites-avilable/default</code><br>删掉以前配置的80端口的配置</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    <span class="built_in">listen</span> <span class="number">80</span> default_server;</span><br><span class="line">    <span class="built_in">return</span> <span class="number">301</span> https:<span class="comment">//yourdomin.cn$request_uri; //改为自己的域名</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启ngix服务<code>/etc/init.d/restart</code><br>现在就可以默认跳转https了！</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;前段时间成功把hexo部署到了腾讯云服务器上，但是现在大多网站都采用了https协议访问，就空余时间申请了个免费证书上&lt;br&gt;传到服务器并开启了https&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;所需准备：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;腾讯云主机+hexo&lt;/li&gt;
&lt;li&gt;ssl证书（可免费申请）&lt;/li&gt;
&lt;li&gt;winscp&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Hexo博客折腾" scheme="https://tediorelee.cn/categories/Hexo%E5%8D%9A%E5%AE%A2%E6%8A%98%E8%85%BE/"/>
    
    
      <category term="hexo" scheme="https://tediorelee.cn/tags/hexo/"/>
    
      <category term="博客" scheme="https://tediorelee.cn/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="ssl证书" scheme="https://tediorelee.cn/tags/ssl%E8%AF%81%E4%B9%A6/"/>
    
      <category term="https" scheme="https://tediorelee.cn/tags/https/"/>
    
  </entry>
  
  <entry>
    <title>杂物贴图集</title>
    <link href="https://tediorelee.cn/2018/08/30/all-stuff/"/>
    <id>https://tediorelee.cn/2018/08/30/all-stuff/</id>
    <published>2018-08-30T08:24:42.000Z</published>
    <updated>2018-10-23T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="置-顶"><a href="#置-顶" class="headerlink" title="置 顶"></a>置 顶</h2><blockquote><p><strong>日常生活记录，不定期更新(〃’▽’〃)</strong><br>！！！图片警告！！！</p></blockquote><a id="more"></a><h2 id="10-24"><a href="#10-24" class="headerlink" title="10.24"></a>10.24</h2><p>csgo万圣节怎么更新成这个样子了。。。。<br>我熟悉的A包点没了<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/TIM%E5%9B%BE%E7%89%8720181024164937.jpg" alt=""></p><h2 id="10-20"><a href="#10-20" class="headerlink" title="10.20"></a>10.20</h2><p>King Tyrion!!!!<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/img_0342.large.jpg" alt=""></p><h2 id="10-1"><a href="#10-1" class="headerlink" title="10.1"></a>10.1</h2><p>CSGO!!!!<br>完美世界高校杯！！！<br>我们学校我室友！！<br>冠军！！！</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/mmexport1540370217819.jpg" alt=""><br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/mmexport1540370226986.jpg" alt=""></p><h2 id="8-30"><a href="#8-30" class="headerlink" title="8.30"></a>8.30</h2><p>开学了，乖乖滚回学校<br>大四了。。。。</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/%E6%9D%82%E7%89%A9/mmexport1540369876053.jpg" alt=""></p><p><strong>未完待续…………………………………………..(〃’▽’〃)😁</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;置-顶&quot;&gt;&lt;a href=&quot;#置-顶&quot; class=&quot;headerlink&quot; title=&quot;置 顶&quot;&gt;&lt;/a&gt;置 顶&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;日常生活记录，不定期更新(〃’▽’〃)&lt;/strong&gt;&lt;br&gt;！！！图片警告！！！&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="杂物" scheme="https://tediorelee.cn/categories/%E6%9D%82%E7%89%A9/"/>
    
    
      <category term="生活" scheme="https://tediorelee.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="图片" scheme="https://tediorelee.cn/tags/%E5%9B%BE%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>腾讯云使用ASF云挂卡</title>
    <link href="https://tediorelee.cn/2018/08/11/steam-asf/"/>
    <id>https://tediorelee.cn/2018/08/11/steam-asf/</id>
    <published>2018-08-11T08:16:20.000Z</published>
    <updated>2018-10-24T09:13:58.836Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong><br>趁着腾讯云搞学生优惠买了云服务器除了存博客之外，突然想到以前steam用asf挂卡的时候能不能用云服务器来实现云端挂卡呢？</strong><br><strong>科普：</strong></p><ul><li>steam等级只能通过合成徽章来获得经验升级</li><li>每合成一个徽章可以得到100经验值</li><li>级别越高，升一级需要的经验值对应也越高</li></ul></blockquote><a id="more"></a><p><em>ASF（全称ArchiSteamFarm） 是一款由 C# 编写的挂卡工具，能同时挂载多个 Steam 账号，现在在 Linux 服务器中配置 ASF 云挂卡。它不像 Idle Master 那样，同一时间只能为一个账号挂卡，需要后台运行 Steam 客户端，需启动额外进程模拟正在游戏状态。ASF 不需要后台运行任何 Steam 客户端，不需要启动额外进程，而且能为不限数目的 Steam 账号同时挂卡。不仅如此，该软件还能在服务器和其他非桌面电脑上运行，并拥有完整支持 Mono 的特性，这能让其在 Linux、Windows 和 OS X 等平台支持 Mono 的操作系统上运行。ASF 存在的基础要归功于 SteamKit2。</em></p><h2 id="下载ASCF"><a href="#下载ASCF" class="headerlink" title="下载ASCF"></a>下载ASCF</h2><p>修改服务器的host，因为现在steam服务器处于被墙的状态，所以一般是打不开的<br>我们可以使用AnotherSteamCommunityFix这个工具来达到不修改hosts使得服务器可以访问steam社区的功能<br>github链接<a href="https://github.com/zyfworks/AnotherSteamCommunityFix" target="_blank" rel="noopener">AnotherSteamCommunityFix</a><br>下载后，用winscp工具上传到服务器任意位置，unzip解压缩后得到ascf文件<br>修改ascf文件的权限，使得其可以运行<code>chmod +x ./ascf</code><br>注：因为涉及到修改系统文件hosts等，所以务必使用root权限</p><h2 id="下载ASF"><a href="#下载ASF" class="headerlink" title="下载ASF"></a>下载ASF</h2><p>github项目地址<a href="https://github.com/JustArchi/ArchiSteamFarm/releases" target="_blank" rel="noopener">ArchiSteamFarm</a><br>找到最新版本的压缩包，下载后同样使用winscp上传到服务器任意位置<br>unzip解压后，打开web网页配置页面<a href="https://justarchinet.github.io/ASF-WebConfigGenerator/#/" target="_blank" rel="noopener">WebConfigGenerator</a><br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E8%85%BE%E8%AE%AF%E4%BA%91%E4%BD%BF%E7%94%A8ASF%E4%BA%91%E6%8C%82%E5%8D%A1/1.png" alt="1"><br>点击机器人，新建一个bot，名字随便写，login那里填写你的steam账户名，passwd填写你的密码，选中enable的√，点击下载，得到一个json文件<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E8%85%BE%E8%AE%AF%E4%BA%91%E4%BD%BF%E7%94%A8ASF%E4%BA%91%E6%8C%82%E5%8D%A1/2.png" alt="2"><br>把下载得到的json文件用winscp上传到asf路径下的config文件夹</p><h2 id="启动挂卡"><a href="#启动挂卡" class="headerlink" title="启动挂卡"></a>启动挂卡</h2><p>这里要用到linux的screen命令，先启动ascf社区访问程序，命令窗口中输入<code>nohup sudo ./ascf &amp;</code><br>这样ascf程序就默认在后台一直运行，就算<code>ctrl+c</code>结束程序也不会影响了<br>新建一个<code>screen -S ASF</code><br>进入到 ASF 所在目录<code>cd /ASF #</code><br>添加可执行文件 ArchiSteamFarm 权限：<code>chmod +x ArchiSteamFarm.sh</code><br>执行程序：<code>./ArchiSteamFarm.sh</code><br>当前页面按 <code>ctrl +a +d</code>进入后台<br>恢复 screen 请终端输入：<code>screen -r ASF</code></p><p><strong>最后，打开你的steam，是不是看到你的状态是正在玩游戏了！<br>asf挂卡速度可观，而且你要玩游戏直接挤掉就行了，不玩了他会自动连上继续帮你挂卡！<br>帮朋友挂他说一晚上起来挂了40来张LOL</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;br&gt;趁着腾讯云搞学生优惠买了云服务器除了存博客之外，突然想到以前steam用asf挂卡的时候能不能用云服务器来实现云端挂卡呢？
&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;科普：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;steam等级只能通过合成徽章来获得经验升级&lt;/li&gt;
&lt;li&gt;每合成一个徽章可以得到100经验值&lt;/li&gt;
&lt;li&gt;级别越高，升一级需要的经验值对应也越高&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Steam相关" scheme="https://tediorelee.cn/categories/Steam%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="hexo" scheme="https://tediorelee.cn/tags/hexo/"/>
    
      <category term="steam" scheme="https://tediorelee.cn/tags/steam/"/>
    
      <category term="ASF" scheme="https://tediorelee.cn/tags/ASF/"/>
    
      <category term="挂卡" scheme="https://tediorelee.cn/tags/%E6%8C%82%E5%8D%A1/"/>
    
  </entry>
  
  <entry>
    <title>Hadoop-Hbase-Spark大数据平台搭建</title>
    <link href="https://tediorelee.cn/2018/06/22/hadoop-hbase-spark/"/>
    <id>https://tediorelee.cn/2018/06/22/hadoop-hbase-spark/</id>
    <published>2018-06-22T09:08:34.000Z</published>
    <updated>2018-10-24T09:14:29.740Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong>随着这学期对于hbase和spark的学习，加上上学期学习的hadoop知识，这次专周在这一年学习的基础上，使用虚拟机或者实机&gt;搭建一个完全分布式大数据平台，涉及hadoop平台、hbase平台还有spark平台，使用一台虚拟机充当主节点master，两台虚拟机&gt;充当子节点slave、slave1。</strong><br><strong>准备：</strong></p><ul><li>参考前文hadoop伪分布式搭建</li><li>hbase和spark安装包</li><li>三个虚拟机，一个充当master节点，两个slave节点</li></ul></blockquote><a id="more"></a><h2 id="安装hadoop"><a href="#安装hadoop" class="headerlink" title="安装hadoop"></a>安装hadoop</h2><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>在/etc/profile中加上hadoop的环境变量，保存并退出，source /etc/profile生效<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/1.jpg" alt="1"></p><h3 id="修改配置文件hadoop-2-6-4-etc-hadoop"><a href="#修改配置文件hadoop-2-6-4-etc-hadoop" class="headerlink" title="修改配置文件hadoop-2.6.4/etc/hadoop"></a>修改配置文件<code>hadoop-2.6.4/etc/hadoop</code></h3><p>配置完以后用scp命令发给各个slave节点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Core-site</span><span class="selector-class">.xml</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/2.jpg" alt="2"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Hdfs-site</span><span class="selector-class">.xml</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/3.jpg" alt="3"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Yarn-site</span><span class="selector-class">.xml</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/4.jpg" alt="4"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Hadoop-env</span><span class="selector-class">.sh</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/5.jpg" alt="5"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Slaves</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/6.jpg" alt="6"></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">Master</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/7.jpg" alt="7"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Mapred-site</span><span class="selector-class">.xml</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/8.jpg" alt="8"></p><h3 id="测试启动"><a href="#测试启动" class="headerlink" title="测试启动"></a>测试启动</h3><p>首先初始化namenode节点，使用命令<code>hadoop namenode -format</code>,然后使用<code>start-all.sh</code>启动hadoop，启动完毕以后，jps查看节点，如图，启动成功<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/9.jpg" alt="9"></p><h2 id="安装hbase"><a href="#安装hbase" class="headerlink" title="安装hbase"></a>安装hbase</h2><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>使用root用户进入<code>/etc/profile</code>中添加hbase的环境变量，保存并退出，然后<code>source /etc/profile</code>使其环境变量生效，如下图所示<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/10.jpg" alt="10"></p><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Hbase-env</span><span class="selector-class">.sh</span></span><br></pre></td></tr></table></figure><p>指定了hbase的环境变量。<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/11.jpg" alt="11"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Hbase-site</span><span class="selector-class">.xml</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/12.jpg" alt="12"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Regionservers</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/13.jpg" alt="13"></p><h2 id="安装zookeeper"><a href="#安装zookeeper" class="headerlink" title="安装zookeeper"></a>安装zookeeper</h2><h3 id="环境变量配置-1"><a href="#环境变量配置-1" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>使用root用户修改<code>/etc/profile</code>文件，添加zookeeper环境变量并保存退出，<code>source /etc/profile</code>使其生效，如图所示：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/14.jpg" alt="14"></p><h3 id="修改配置文件-1"><a href="#修改配置文件-1" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>将zookeeper-3.4.3/conf目录下的zoo_sample.cfg文件拷贝一份，命名为为“zoo.cfg”<br>指定datadir目录，在文件末尾添加上master和slave的ip并指定端口号,如图所示：、<br>在datadir目录下创建myid文件，在master主机里写上0，slave里写上1，依次增加。<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/15.jpg" alt="15"></p><h2 id="安装spark"><a href="#安装spark" class="headerlink" title="安装spark"></a>安装spark</h2><h3 id="环境变量配置-2"><a href="#环境变量配置-2" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><p>使用root用户修改<code>/etc/profile</code>文件，添加zookeeper环境变量并保存退出，<code>source /etc/profile</code>使其生效，如图所示：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/16.jpg" alt="16"></p><h3 id="修改配置文件-2"><a href="#修改配置文件-2" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>Cp一份spark-env.sh，打开并在里面添加配置信息，<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/17.jpg" alt="17"></p><p>Cp一份slaves文件，在其中添加master和slave的主机名，<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/18.jpg" alt="18"></p><p>将所有修改过的配置文件scp到slave节点上，至此环境搭建完毕。</p><h2 id="测试与总结"><a href="#测试与总结" class="headerlink" title="测试与总结"></a>测试与总结</h2><h3 id="启动zookeeper"><a href="#启动zookeeper" class="headerlink" title="启动zookeeper"></a>启动zookeeper</h3><p>分别在master和slave上的zookeeper安装目录下执行<code>./bin/zkServer.sh start</code>启动zookeeper<br>Jps查看启动情况如图：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/19.jpg" alt="19"></p><h3 id="启动hadoop"><a href="#启动hadoop" class="headerlink" title="启动hadoop"></a>启动hadoop</h3><p>在master上执行<code>start-all.sh</code>，启动hadoop集群，jps查看启动情况：<br>Master节点：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/20.jpg" alt="20"><br>Slave节点：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/21.jpg" alt="21"></p><h3 id="启动hbase"><a href="#启动hbase" class="headerlink" title="启动hbase"></a>启动hbase</h3><p>在master上执行<code>start-hbase.sh</code>，jps查看启动情况：<br>Master节点：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/22.jpg" alt="22"><br>Slave节点：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/23.jpg" alt="23"></p><h3 id="Web页面查看"><a href="#Web页面查看" class="headerlink" title="Web页面查看"></a>Web页面查看</h3><p>hadoop<br>两个slave节点启动成功：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/24.jpg" alt="24"></p><p>hbase<br>Regionserver中可以看到有两个slave子节点<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/25.jpg" alt="25"></p><p>spark<br>可以看到两个子节点（worker）<br><img src="https://tedioreleeblog.pek3b.qingstor.com/Hadoop-Hbase-Spark%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/26.jpg" alt="26"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;随着这学期对于hbase和spark的学习，加上上学期学习的hadoop知识，这次专周在这一年学习的基础上，使用虚拟机或者实机&amp;gt;搭建一个完全分布式大数据平台，涉及hadoop平台、hbase平台还有spark平台，使用一台虚拟机充当主节点master，两台虚拟机&amp;gt;充当子节点slave、slave1。&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;准备：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参考前文hadoop伪分布式搭建&lt;/li&gt;
&lt;li&gt;hbase和spark安装包&lt;/li&gt;
&lt;li&gt;三个虚拟机，一个充当master节点，两个slave节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="大数据学习" scheme="https://tediorelee.cn/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="hadoop" scheme="https://tediorelee.cn/tags/hadoop/"/>
    
      <category term="hbase" scheme="https://tediorelee.cn/tags/hbase/"/>
    
      <category term="spark" scheme="https://tediorelee.cn/tags/spark/"/>
    
      <category term="虚拟机" scheme="https://tediorelee.cn/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
      <category term="大数据" scheme="https://tediorelee.cn/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>hadoop+ubuntu伪分布式搭建</title>
    <link href="https://tediorelee.cn/2018/05/30/hadoop-ubuntu/"/>
    <id>https://tediorelee.cn/2018/05/30/hadoop-ubuntu/</id>
    <published>2018-05-30T08:20:01.000Z</published>
    <updated>2018-10-24T09:14:11.933Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong>大数据学习离不开hadoop集成环境，正好老师上课也给我们了搭建伪分布式hadoop环境的任务，正好可以一起完成</strong><br><strong>所需准备：</strong></p><ul><li>jdk1.8的安装包</li><li>hadoop2.6.4的安装包</li><li>安装了ubuntu server14.04的虚拟机一个</li><li>远程ssh工具等</li><li>winscp工具用于上传需要用到的文件</li></ul></blockquote><a id="more"></a><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>ubuntu server需要安装好ssh客户端，在<code>/etc/ssh/sshd_config</code>里修改permissionrootlogin参数为yes<br>这样就可以使用root账户直接登录了<br>将准备好的jdk和hadoop安装包使用winscp上传到ubuntu里</p><h2 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h2><p>解压缩jdk安装包，使用命令<code>tar -zxvf jdk1.8.0_121.tar.gz</code><br>我解压到的是<code>/home/hadoop/jdk1.8.0_121</code>路径<br>此处图片<br>添加jdk环境变量<br>打开文件<code>vim /etc/profile</code>在末尾加上<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=<span class="string">"/home/hadoop/jdk1.8.0_121"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$JAVA_HOME</span>/bin:$PATH</span><br></pre></td></tr></table></figure></p><p>保存并退出，<code>source /etc/profile</code>使其生效<br>这时输入<code>java -version</code>即可查看到版本信息表示jdk安装成功</p><h2 id="安装hadoop"><a href="#安装hadoop" class="headerlink" title="安装hadoop"></a>安装hadoop</h2><p>解压缩hadoop<code>tar -zxvf hadoop-2.6.4.tar.gz</code><br>创建存放hadoop文件的目录<code>sudo mkdir /opt/modules</code><br>将hadoop文件夹的所有者指定为hadoop用户<code>sudo chown -R hadoop:hadoop /opt/modules</code><br>配置Hadoop环境变量<code>vim /etc/profile</code><br>末尾加上<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_HOME</span>=<span class="string">"/home/hadoop/hadoop.2.6.4"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$HADOOP_HOME</span>/bin:$HADOOP_HOME/sbin:$PATH</span><br></pre></td></tr></table></figure></p><p>保存并退出，<code>source /etc/profile</code>使其生效<br><strong>配置 <em>hadoop-env.sh</em>、<em>mapred-env.sh</em>、<em>yarn-env.sh</em>文件的<em>JAVA_HOME</em>参数</strong><br>编辑<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim  $&#123;HADOOP_HOME&#125;/etc/hadoop/hadoop-<span class="keyword">env</span>.sh</span><br><span class="line">vim  $&#123;HADOOP_HOME&#125;/etc/hadoop/mapred-<span class="keyword">env</span>.sh</span><br><span class="line">vim  $&#123;HADOOP_HOME&#125;/etc/hadoop/yarn-<span class="keyword">env</span>.sh</span><br></pre></td></tr></table></figure></p><p>创建临时目录：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sudo</span> mkdir -p /<span class="meta">opt</span>/<span class="meta">data</span>/tmp</span><br></pre></td></tr></table></figure><p>将临时目录的所有者修改为hadoop</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sudo</span> chown –R hadoop:hadoop /<span class="meta">opt</span>/<span class="meta">data</span>/tmp</span><br></pre></td></tr></table></figure><p><em>注：默认的hadoop.tmp.dir是/tmp/hadoop-${user.name},此时有个问题就是NameNode会将HDFS的元数据存储在这个/tmp目录下，如果操作系统重启了，系统会清空/tmp目录下的东西，导致NameNode元数据丢失，是个非常严重的问题，所有我们应该修改这个路径。</em></p><p> <strong>配置 core-site.xml</strong><br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">&lt;configuration&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>hadoop.tmp.dir<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span><span class="meta-keyword">/opt/</span>data/tmp<span class="params">&lt;/value&gt;</span>?????????</span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>fs.defaultFS<span class="params">&lt;/name&gt;</span>????????????</span><br><span class="line"><span class="params">&lt;value&gt;</span>hdfs:<span class="comment">//hadoopm:9000&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure></p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/hadoop-ubuntu%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/3.png" alt="3"><br><strong>配置、格式化、启动HDFS</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="variable">$&#123;HADOOP_HOME&#125;</span><span class="regexp">/etc/</span>hadoop<span class="regexp">/hdfs-site.xml</span></span><br></pre></td></tr></table></figure><p>添加片段</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://tedioreleeblog.pek3b.qingstor.com/hadoop-ubuntu%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/4.png" alt="4"><br>dfs.replication配置是HDFS存储时的备份数量，伪分布式环境只有一个节点，所以这里设置为1。<br>格式化HDFS</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/hadoop-ubuntu%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/5.png" alt="5"><br><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode –<span class="built_in">format</span></span><br></pre></td></tr></table></figure></p><p>格式化后，查看core-site.xml里hadoop.tmp.dir（本例是/opt/data目录）指定的目录下是否有了dfs目录，如果有，说明格式化成功。</p><p><strong>启动NameNode</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/hadoop-daemon<span class="selector-class">.sh</span> start namenode</span><br></pre></td></tr></table></figure><p><strong>启动DataNode</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/hadoop-daemon<span class="selector-class">.sh</span> start datanode</span><br></pre></td></tr></table></figure><p><strong>启动SecondaryNameNode</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbin/hadoop-daemon<span class="selector-class">.sh</span> start secondarynamenode</span><br></pre></td></tr></table></figure><p> <strong>JPS命令查看是否已经启动成功，有结果就是启动成功了</strong><br><img src="https://tedioreleeblog.pek3b.qingstor.com/hadoop-ubuntu%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/6.png" alt="6"></p><p> <strong>配置、启动YARN</strong><br> 默认没有mapred-site.xml文件，但是有个mapred-site.xml.template配置模板文件。复制模板生成mapred-site.xml</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp etc/hadoop/mapred-site<span class="selector-class">.xml</span><span class="selector-class">.template</span> etc/hadoop/mapred-site.xml</span><br></pre></td></tr></table></figure><p>添加配置如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置yarn-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>bigdata-senior01.chybinmy.com<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p> <strong>启动Resourcemanager</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbin/yarn-daemon<span class="selector-class">.sh</span> start resourcemanager</span><br></pre></td></tr></table></figure><p><strong>启动nodemanager</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbin/yarn-daemon<span class="selector-class">.sh</span> start nodemanager</span><br></pre></td></tr></table></figure><p>可以看到ResourceManager、NodeManager已经启动成功了。<br><img src="https://tedioreleeblog.pek3b.qingstor.com/hadoop-ubuntu%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA/7.png" alt="7"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;大数据学习离不开hadoop集成环境，正好老师上课也给我们了搭建伪分布式hadoop环境的任务，正好可以一起完成&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;所需准备：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;jdk1.8的安装包&lt;/li&gt;
&lt;li&gt;hadoop2.6.4的安装包&lt;/li&gt;
&lt;li&gt;安装了ubuntu server14.04的虚拟机一个&lt;/li&gt;
&lt;li&gt;远程ssh工具等&lt;/li&gt;
&lt;li&gt;winscp工具用于上传需要用到的文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="大数据学习" scheme="https://tediorelee.cn/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="hadoop" scheme="https://tediorelee.cn/tags/hadoop/"/>
    
      <category term="hexo" scheme="https://tediorelee.cn/tags/hexo/"/>
    
      <category term="ubuntu" scheme="https://tediorelee.cn/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客部署到腾讯云主机</title>
    <link href="https://tediorelee.cn/2018/05/22/hexo-tencentserver/"/>
    <id>https://tediorelee.cn/2018/05/22/hexo-tencentserver/</id>
    <published>2018-05-22T10:16:16.000Z</published>
    <updated>2018-10-24T09:13:44.925Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong>前段时间将hexo博客部署到了gitpages上，毕竟免费，新手用来练练手<br>后来成功以后发现了几个问题，github访问有时候很慢，不如国内的服务器稳定<br>手机端打开更是慢如蜗牛，所以用学生优惠在腾讯云买了云主机和域名，<br>想来部署在服务器上肯定会好很多吧</strong><br><strong>所需准备：</strong></p><ul><li>腾讯云主机</li><li>本地搭建好的hxeo博客</li><li>域名</li></ul></blockquote><a id="more"></a><h2 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h2><p>先在服务器上安装git和nginx服务，百度即可。\</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> install git</span><br><span class="line">apt-<span class="builtin-name">get</span> install nginx</span><br></pre></td></tr></table></figure><p>创建一个/var/www/hexo目录，用于ngix托管</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /<span class="built_in">var</span>/www/hexo</span><br></pre></td></tr></table></figure><p>创建一个仓库目录，修改目录权限和所有权</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R \<span class="variable">$USER</span>:\<span class="variable">$USER</span> <span class="regexp">/var/</span>www<span class="regexp">/hexo</span></span><br></pre></td></tr></table></figure><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod -R <span class="number">755</span> /<span class="keyword">var</span>/www/hexo</span><br></pre></td></tr></table></figure><p>然后修改 Nginx 的default的设置</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim <span class="regexp">/etc/</span>nginx<span class="regexp">/sites-available/</span><span class="keyword">default</span></span><br></pre></td></tr></table></figure><p>将 root 指向/var/www/blog目录</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="attribute">listen</span> <span class="number">80</span> default_server;</span><br><span class="line"></span><br><span class="line"><span class="attribute">listen</span> [::]:<span class="number">80</span> default_server ipv6only=<span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">server_name</span> xx.xx.xx \<span class="comment">#如果你有域名此处改为你的域名 若没有直接删除这行</span></span><br><span class="line"></span><br><span class="line">root /var/www/hexo;</span><br><span class="line"></span><br><span class="line"><span class="attribute">index</span> index.html index.htm;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>注：找教程的过程中，看到有些写的是修改etc下的一个配置文件，好像还要自行创建，不知对错没有尝试</p><p>保存退出并重启ngix服务</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="regexp">/etc/i</span>nit.d<span class="regexp">/nginx restart</span></span><br></pre></td></tr></table></figure><h2 id="创建git仓库目录"><a href="#创建git仓库目录" class="headerlink" title="创建git仓库目录"></a>创建git仓库目录</h2><p>创建一个名为blog的git仓库<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="string">/var/repo</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/var/repo</span></span><br><span class="line">git init <span class="params">--bare</span> hexoBlog.git</span><br></pre></td></tr></table></figure></p><h2 id="创建git-hook"><a href="#创建git-hook" class="headerlink" title="创建git hook"></a>创建git hook</h2><p>在hexoBlog下创建一个hook，可以将静态html文件推送到服务器的路径（/var/www/blog）里</p><p>在自动生成的 hooks 目录下创建一个新钩子脚本文件：</p><p>sudo vim /var/repo/hexoBlog.git/hooks/post-receive</p><p>在该文件中添加下面代码，指定 Git 的工作树(源代码)和 Git 目录(配置文件等)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">git --work-tree=/var/www/hexo --git-dir=/var/repo/hexoBlog.git checkout -f</span><br></pre></td></tr></table></figure><p>保存退出，给该文件加权限使其变成可执行文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x <span class="regexp">/var/</span>repo<span class="regexp">/hexoBlog.git/</span>hooks<span class="regexp">/post-receive</span></span><br></pre></td></tr></table></figure><h2 id="SSH-配置"><a href="#SSH-配置" class="headerlink" title="SSH 配置"></a>SSH 配置</h2><p>在服务器和本地都生成密钥<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh-keygen</span> <span class="selector-tag">-t</span> <span class="selector-tag">rsa</span> <span class="selector-tag">-C</span> "<span class="selector-tag">example</span>@<span class="keyword">gmail</span>.<span class="keyword">com</span>"</span><br></pre></td></tr></table></figure></p><p>一路回车确定，生成完毕之后，打开服务器ssh目录下的authorized_keys文件，添加本地的id_rsa.pub文件中的信息进去</p><h2 id="Git-部署"><a href="#Git-部署" class="headerlink" title="Git 部署"></a>Git 部署</h2><p>配置git同步的用户名和邮箱<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--global user.name <span class="string">"xxxx"</span></span><br><span class="line">$ git<span class="built_in"> config </span>--global user.email <span class="string">"xxx@example.com"</span></span><br></pre></td></tr></table></figure></p><p>编辑本地 blog 文件中的站点配置文件_config.yml<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line"></span><br><span class="line">type: git</span><br><span class="line"></span><br><span class="line">repo: 服务器用户名\@服务器的公网<span class="built_in"> IP </span>地址:/var/repo/hexoBlog</span><br><span class="line"></span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure></p><p>保存退出。</p><p>安装好后可以测试部署</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="meta">&amp;&amp; hexo g &amp;&amp; hexo d</span></span><br></pre></td></tr></table></figure><p>注：我自己没有设置ssh免密登录，所以部署的时候会提示输入服务器登录密码，还有config.yml文件里的服务器用户名用root，用普通用户的话会提示报错，因为权限不足，我的云主机默认是无法直接root登录的，所以修改/etc/ssh/下的配置文件里的permissionrootlogin字段为yes即可直接用root登录</p><h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>登录腾讯云后台管理，实名认证后即可使用，（暂时未备案）</p><p>点击添加解析</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%BB%E6%9C%BA/1.jpg" alt="1"></p><p>按提示添加解析之后，手动新建一个解析，记录类型选为CNAME，记录值填写你的域名</p><p>保存即可</p><p><img src="https://tedioreleeblog.pek3b.qingstor.com/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%BB%E6%9C%BA/2.jpg" alt="2"></p><p>返回本地hexo路径，在sources下新建一个CNAME文件，编辑器打开里面填上你的域名xxxx.cn保存退出即可</p><p>重新部署一遍即可生效</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="meta">&amp;&amp; hexo g &amp;&amp; hexo d</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;前段时间将hexo博客部署到了gitpages上，毕竟免费，新手用来练练手&lt;br&gt;后来成功以后发现了几个问题，github访问有时候很慢，不如国内的服务器稳定&lt;br&gt;手机端打开更是慢如蜗牛，所以用学生优惠在腾讯云买了云主机和域名，&lt;br&gt;想来部署在服务器上肯定会好很多吧&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;所需准备：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;腾讯云主机&lt;/li&gt;
&lt;li&gt;本地搭建好的hxeo博客&lt;/li&gt;
&lt;li&gt;域名&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Hexo博客折腾" scheme="https://tediorelee.cn/categories/Hexo%E5%8D%9A%E5%AE%A2%E6%8A%98%E8%85%BE/"/>
    
    
      <category term="hexo" scheme="https://tediorelee.cn/tags/hexo/"/>
    
      <category term="博客" scheme="https://tediorelee.cn/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="腾讯云" scheme="https://tediorelee.cn/tags/%E8%85%BE%E8%AE%AF%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>小米路由器+pandavan固件破解移动校园网锐捷认证</title>
    <link href="https://tediorelee.cn/2018/05/09/mirouter-pandavan/"/>
    <id>https://tediorelee.cn/2018/05/09/mirouter-pandavan/</id>
    <published>2018-05-09T07:09:45.000Z</published>
    <updated>2018-10-24T09:14:51.267Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><blockquote><p><strong>学校的移动网太不人性化了，几十块一个月还只能用网线连电脑拨号不能使用路由器，手机只能开热点回想起高三买的小米路由<br>器还在家里吃灰<br>立刻打电话给母上叫她给我把路由器寄过来，ps：小米路由器刷机还是挺舒服<br>这次准备用恩山论坛的pandavan固件刷机，使路由器可以模拟锐捷认证<br>达到使用wifi的目的</strong><br><strong>所需准备：</strong></p><ul><li>小米路由器x1</li><li>网线</li><li>breed和pandavan固件</li></ul></blockquote><a id="more"></a><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>初始化小米路由器，由于我第一次刷入固件失败，后面重新找了好久的老版本小米固件刷进去才支持刷机，听说现在新的固件都不能这样玩了LOL<br><strong>Breed是什么?</strong><br>breed被称作“不死”，意思所有的操作都在breed里面完成</p><blockquote><p>“Bootloader 意思为引导加载器，即为用于加载操作系统的程序。它是一大类此类功能程序的统称。现在的 BIOS、UEFI、GRUB、RedBoot、U-Boot、CFE、Breed 等都是 Bootloader。”</p></blockquote><p><strong>Breed 拥有以下新特性：</strong><br><em>实时刷机进度，进度条能准确反映刷机进度<br>Web 页面快速响应<br>最大固件备份速度，依 Flash 而定，一般能达到 1MB/s<br>免按复位键进入 Web 刷机模式<br>Telnet 功能，免 TTL 进入 Breed 命令控制台<br>复位键定义测试功能<br>固件启动失败自动进入 Web 刷机模式<br>可自定义位置和大小的环境变量块</em><br>找到适合自己路由器的breed固件，地址如下<code>http://breed.hackpascal.net/</code></p><p><strong>Pandavan固件下载地址</strong><code>http://opt.cn2qq.com/padavan/</code>、</p><h2 id="刷机"><a href="#刷机" class="headerlink" title="刷机"></a>刷机</h2><p>先刷入breed不死固件<br>电脑网络连接设置为自动获取 IP 地址<br>打开 CMD，运行 ping 192.168.1.1 -t<br>按住复位键或者WPS键再给路由通电，如果看到路由器的部分或全部LED连闪4次，或 ping 通即表明进入 Web 刷机模式<br>注：我的小米路由器自带了usb接口，故我拷贝固件包到U盘插上就可以直接刷<br>成功后如图：<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-padavan%E5%9B%BA%E4%BB%B6%E7%A0%B4%E8%A7%A3%E7%A7%BB%E5%8A%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/breed.png" alt="1"></p><p>点击breed里面的固件更新，选择已经下载好的适合自己路由器的pandavan固件，点击确定等待刷机完成即可<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-padavan%E5%9B%BA%E4%BB%B6%E7%A0%B4%E8%A7%A3%E7%A7%BB%E5%8A%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/breed2.png" alt="2"></p><p>之后，插上网线连接电脑<br>浏览器输入192.168.123.1<br>即可进入路由器管理界面<br>默认id和密码为admin<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-padavan%E5%9B%BA%E4%BB%B6%E7%A0%B4%E8%A7%A3%E7%A7%BB%E5%8A%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/padanvan.png" alt="3"></p><h2 id="模拟锐捷认证"><a href="#模拟锐捷认证" class="headerlink" title="模拟锐捷认证"></a>模拟锐捷认证</h2><p>点击扩展功能，找到锐捷认证窗口<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-padavan%E5%9B%BA%E4%BB%B6%E7%A0%B4%E8%A7%A3%E7%A7%BB%E5%8A%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/ruijie.png" alt="4"><br><em>用户名输入你的学号（具体看运营商分配）<br>密码为宽带的密码<br>ip请手动输入锐捷客户端连接后的ip<br>网关、dns同理<br>心跳间隔选择2<br>客户端版本选择4.98<br>其他全部默认，点击确定</em><br><strong>稍等片刻，你就可以用路由器上网了！破解成功</strong></p><h2 id="pandavan其他玩法"><a href="#pandavan其他玩法" class="headerlink" title="pandavan其他玩法"></a>pandavan其他玩法</h2><p>pandavan固件的功能和玩法多种多样，模拟锐捷只是其中一个而已<br>作为经常有翻墙需要的我，自然是可以用它自带的ss功能实现路由器翻墙上网了<br>前提自己要有ssr账号LOL<br><img src="https://tedioreleeblog.pek3b.qingstor.com/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-padavan%E5%9B%BA%E4%BB%B6%E7%A0%B4%E8%A7%A3%E7%A7%BB%E5%8A%A8%E6%A0%A1%E5%9B%AD%E7%BD%91%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/ssr.png" alt="5"></p><p>由于我的小米路由器还有个USB接口，接上了一块硬盘以后再加上pandavan固件的功能，在寝室局域网的环境内就能实现手机平板访问、下载文件了！再也不用慢慢拷片到手机上了！</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;学校的移动网太不人性化了，几十块一个月还只能用网线连电脑拨号不能使用路由器，手机只能开热点回想起高三买的小米路由&lt;br&gt;器还在家里吃灰&lt;br&gt;立刻打电话给母上叫她给我把路由器寄过来，ps：小米路由器刷机还是挺舒服&lt;br&gt;这次准备用恩山论坛的pandavan固件刷机，使路由器可以模拟锐捷认证&lt;br&gt;达到使用wifi的目的&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;所需准备：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;小米路由器x1&lt;/li&gt;
&lt;li&gt;网线&lt;/li&gt;
&lt;li&gt;breed和pandavan固件&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="路由器破解" scheme="https://tediorelee.cn/categories/%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A0%B4%E8%A7%A3/"/>
    
    
      <category term="hexo" scheme="https://tediorelee.cn/tags/hexo/"/>
    
      <category term="小米路由器" scheme="https://tediorelee.cn/tags/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8/"/>
    
      <category term="锐捷认证" scheme="https://tediorelee.cn/tags/%E9%94%90%E6%8D%B7%E8%AE%A4%E8%AF%81/"/>
    
      <category term="校园网" scheme="https://tediorelee.cn/tags/%E6%A0%A1%E5%9B%AD%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客搭建心得</title>
    <link href="https://tediorelee.cn/2018/04/19/hexo-start/"/>
    <id>https://tediorelee.cn/2018/04/19/hexo-start/</id>
    <published>2018-04-19T10:16:16.000Z</published>
    <updated>2018-10-24T09:13:21.295Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="简-介"><a href="#简-介" class="headerlink" title="简 介"></a>简 介</h2><p><strong>偶然一次看到一个学长的博客，做的很好，上面的内容也十分牛逼<br>就想着自己什么时候可以弄一个自己的博客来记录一下自己的生活、学习过程等。<br>今天终于心血来潮的开始了对博客的搭建，第一次使用，采用了hexo框架+gitpages的方式<br>后面有空再进行优化，搞个域名什么的</strong></p><a id="more"></a><h2 id="心-得"><a href="#心-得" class="headerlink" title="心 得"></a>心 得</h2><p>遇到的坑：</p><p>1.md配置文件里面冒号后面必须有空格啊喂！（这是什么沙雕设定2333</p><p>2.以前注册的github账号带了大写，不知道这个有没有影响，反正看了各种教程网页说可能有影响然后最后还是重新注册了一个新的账号（心理作用maybe</p><p>3.想给博客来点特效结果一下子弄多了，卡的一匹，最后还是只开了一点特效</p><p>4.有时候莫名deploy不上去，这次hexo d的东西下次才生效（神 秘</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>暂时想到这么多，下次有空再写（逃</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简-介&quot;&gt;&lt;a href=&quot;#简-介&quot; class=&quot;headerlink&quot; title=&quot;简 介&quot;&gt;&lt;/a&gt;简 介&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;偶然一次看到一个学长的博客，做的很好，上面的内容也十分牛逼&lt;br&gt;就想着自己什么时候可以弄一个自己的博客来记录一下自己的生活、学习过程等。&lt;br&gt;今天终于心血来潮的开始了对博客的搭建，第一次使用，采用了hexo框架+gitpages的方式&lt;br&gt;后面有空再进行优化，搞个域名什么的&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
